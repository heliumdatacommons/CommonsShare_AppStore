{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-xs-12">
            <h2>Input PIVOT appliance configuration</h2>
        </div>
    </div>
</div>

<br/>

<div class="container">
    <input type="hidden" id="default_num_insts" value="{{ num_instances }}"/>
    <input type="hidden" id="default_num_cpus" value="{{ num_cpus }}"/>
    <input type="hidden" id="default_num_mems" value="{{ mem_size }}"/>
    {# Number of instances #}
    <div class="form-group">
        <fieldset>
            <label for="txtInstance" class="col-xs-4 control-label">Number of instances: </label>
            <input id="txtInstance" class="col-xs-8 modal-only-required" value="{{ num_instances }}">
        </fieldset>
        <div class="alert alert-info" role="alert">Entered value cannot be greater than the default {{ num_instances }} to control costs.</div>
    </div>
    {# Resources #}
    <div class="form-group">
        <fieldset>
            <label for="txtCPU" class="col-xs-4">Number of CPUs: </label>
            <input id="txtCPU" class="col-xs-8" value="{{ num_cpus }}">
        </fieldset>
        <div class="alert alert-info" role="alert">Entered value cannot be greater than the default {{ num_cpus }} to control costs.</div>
        <fieldset>
            <label for="txtMEM" class="col-xs-4 control-label">Memory (MB): </label>
            <input id="txtMEM" class="col-xs-8" value="{{ mem_size }}">
        </fieldset>
        <div class="alert alert-info" role="alert">Entered value cannot be greater than the default {{ mem_size }} to control costs.</div>
    </div>
    {# Cloud Deployment Option #}
    <div class="form-group">
        <fieldset>
            <label for="optCloud" class="col-xs-4">PIVOT Cloud Deployment Option: </label>
            <select id="optCloud" class="col-xs-8">
                <option value="optimal">Optimal</option>
                <option value="aws">AWS</option>
                <option value="gcp">GCP</option>
            </select>
        </fieldset>
        <div class="alert alert-info" role="alert">Select which cloud, AWS or GCP, to deploy HAIL appliance or let PIVOT determine the optimal placement.</div>
    </div>
    {# Token #}
    <div class="form-group">
        <fieldset>
            <label for="txtToken" class="col-xs-4 control-label">Jupyter Token: </label>
            <input id="txtToken" type="password" class="col-sm-8 modal-only-required">
        </fieldset>
        <div class="alert alert-info" role="alert">Enter a token which will be later used to log in to Jupyter running on the HAIL cluster.</div>
    </div>
    <div id='pivot-error' class="alert alert-danger" role="alert" hidden></div>
</div>

<div class="modal-footer">
    <button class="btn btn-success" id="btn-launch-pivot">Launch PIVOT</button>
</div>

{% block extra_js %}
    <script type="text/javascript" src="{% static "js/pivot_launch.js" %}"></script>
{% endblock %}

{% endblock %}
